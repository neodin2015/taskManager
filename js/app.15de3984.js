(function(){"use strict";var t={8644:function(t,s,e){var a=e(9242),n=e(3396);function i(t,s,e,a,i,l){const o=(0,n.up)("NewTask"),d=(0,n.up)("TaskList");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(o),(0,n.Wm)(d)])}const l={class:"container"},o={class:"row"},d={class:"col m12"},r={key:0,class:"collection"},c={key:1,class:"message text-center"};function g(t,s,e,a,i,g){const k=(0,n.up)("task-view");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",o,[(0,n._)("div",d,[(0,n._)("button",{onClick:s[0]||(s[0]=(...t)=>g.deleteCompletedTasks&&g.deleteCompletedTasks(...t)),class:"btn mb-10 mr-10"}," Удалить все выполненные "),(0,n._)("button",{onClick:s[1]||(s[1]=(...t)=>g.deleteAllTask&&g.deleteAllTask(...t)),class:"btn mb-10"}," Удалить все "),t.$store.getters.tasksLength>0?((0,n.wg)(),(0,n.iD)("ul",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.$store.getters.tasks,(t=>((0,n.wg)(),(0,n.j4)(k,{key:t.id,task:t},null,8,["task"])))),128))])):((0,n.wg)(),(0,n.iD)("div",c," Задач нет "))])])])}var k=e(7139);const u={class:"collection-item"},m={class:"row"},h={class:"col m-11"},p={key:0,class:"task"},f={class:"mb-10"},v=["checked"],w={class:"date mb-10"},T={class:"row"},b={class:"button"},_={key:1,class:"edit"},I=["value"],y=["value"],x={class:"row"},O={class:"button mb-10"};function N(t,s,e,i,l,o){const d=(0,n.up)("tag-views");return(0,n.wg)(),(0,n.iD)("li",u,[(0,n._)("div",m,[(0,n._)("div",h,[l.isEdit?((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("input",{type:"text",value:e.task.text,onInput:s[2]||(s[2]=t=>o.setTask(e.task.id,t.target.value,e.task.date))},null,40,I),(0,n._)("input",{onChange:s[3]||(s[3]=t=>o.setTask(e.task.id,e.task.text,t.target.value)),type:"date",value:e.task.date},null,40,y),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[4]||(s[4]=s=>t.tagName=s),type:"text",placeholder:"Введите тег"},null,512),[[a.nr,t.tagName]]),(0,n._)("button",{onClick:s[5]||(s[5]=(...s)=>t.newTag&&t.newTag(...s)),class:"btn mb-10"},"Добавить тег"),(0,n._)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.tags,(s=>((0,n.wg)(),(0,n.j4)(d,{onOnDeleteTag:o.deleteTag,key:s.id,tag:s,taskId:t.taskId},null,8,["onOnDeleteTag","tag","taskId"])))),128))]),(0,n._)("div",O,[(0,n._)("button",{class:"btn",onClick:s[6]||(s[6]=(...t)=>o.save&&o.save(...t))},"Сохранить")])])):((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("label",f,[(0,n._)("input",{onChange:s[0]||(s[0]=t=>o.completedTask(e.task.id)),checked:e.task.completed,class:"filled-in",type:"checkbox"},null,40,v),l.isEdit?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",{key:0,class:(0,k.C_)([{completed:e.task.completed},"black-text mb-10"])},(0,k.zw)(e.task.text),3))]),(0,n._)("span",w," Срок: "+(0,k.zw)(e.task.date),1),(0,n._)("div",T,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.task.tags,(t=>((0,n.wg)(),(0,n.j4)(d,{onOnDeleteTag:o.deleteTag,key:t.id,tag:t},null,8,["onOnDeleteTag","tag"])))),128))]),(0,n._)("div",b,[(0,n._)("button",{class:"btn mb-10",onClick:s[1]||(s[1]=t=>l.isEdit=!l.isEdit)},"Изменить")])])),(0,n._)("button",{onClick:s[7]||(s[7]=t=>o.deleteTask(e.task.id)),class:"btn waves-effect waves-light"}," Удалить ")])])])}const D={class:"chip"};function S(t,s,e,a,i,l){return(0,n.wg)(),(0,n.iD)("div",D,[(0,n.Uk)((0,k.zw)(e.tag.name)+" ",1),(0,n._)("i",{onClick:s[0]||(s[0]=s=>t.$emit("on-delete-tag",e.tag.id)),class:"close material-icons"},"close")])}var C={props:["tag"]},$=e(89);const j=(0,$.Z)(C,[["render",S],["__scopeId","data-v-ff9f077e"]]);var E=j,J={data(){return{tags:[],tagName:"",taskId:null}},methods:{newTag(){this.tagName.length>0&&(this.tags.push({id:this.getNewTagId(),name:this.tagName}),this.tagName="")},getNewTagId(){if(0==this.tags.length)return 1;if(1==this.tags.length)return this.tags[0].id+1;{let t=this.tags[0].id;return this.tags.forEach((s=>{s.id>t&&(t=s.id)})),t+1}},deleteTag(t){this.tags=this.tags.filter((s=>s.id!=t))}}},V={components:{TagViews:E},mixins:[J],data(){return{isEdit:!1}},props:["task"],methods:{deleteTask(t){this.$store.commit("deleteTask",t)},completedTask(t){this.$store.commit("completedTask",t)},setTask(t,s,e){this.$store.commit("setTask",{id:t,text:s,date:e})},pushTags(){console.log(this.tags),this.$store.commit("pushTags",{taskId:this.task.id,tags:this.tags})},deleteTag(t){this.$store.commit("deleteTag",{taskId:this.task.id,tagId:t}),this.tags=[...this.task.tags]},save(){this.isEdit=!this.isEdit,this.pushTags()}},created(){this.taskId=this.task.id,this.tags=[...this.task.tags]}};const A=(0,$.Z)(V,[["render",N],["__scopeId","data-v-775e162f"]]);var L=A,U={components:{TaskView:L},methods:{deleteCompletedTasks(){this.$store.commit("deleteCompletedTasks")},deleteAllTask(){this.$store.commit("deleteAllTask")}},created(){this.$store.commit("loadLocalStorage")}};const Z=(0,$.Z)(U,[["render",g]]);var z=Z;const H={class:"container"},K={class:"row"},Y={class:"col m6"},M={class:"card p-20"},P=(0,n._)("div",{class:"card-title"},"Добавить новую задачу",-1),W={class:"row"},q={class:"message-box red-text"};function F(t,s,e,i,l,o){const d=(0,n.up)("tag-views");return(0,n.wg)(),(0,n.iD)("div",H,[(0,n._)("div",K,[(0,n._)("div",Y,[(0,n._)("div",M,[P,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.text=t),type:"text",placeholder:"Суть задачи"},null,512),[[a.nr,l.text]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.date=t),type:"date"},null,512),[[a.nr,l.date]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>l.tagName=t),type:"text",placeholder:"Введите тег"},null,512),[[a.nr,l.tagName]]),(0,n._)("button",{onClick:s[3]||(s[3]=(...s)=>t.newTag&&t.newTag(...s)),class:"btn mb-10"},"Добавить тег"),(0,n._)("div",W,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.tags,(s=>((0,n.wg)(),(0,n.j4)(d,{onOnDeleteTag:t.deleteTag,key:s.id,tag:s,taskId:t.taskId},null,8,["onOnDeleteTag","tag","taskId"])))),128))]),(0,n._)("button",{onClick:s[4]||(s[4]=(...t)=>o.newTask&&o.newTask(...t)),class:"btn mb-10"},"Добавить"),(0,n._)("div",q,(0,k.zw)(l.message),1)])])])])}var B={components:{TagViews:E},mixins:[J],data(){return{text:"",date:"",tagName:"",message:""}},methods:{newTask(){if(this.text.length>0&&this.date.length>0){const t={id:this.taskId,completed:!1,text:this.text,date:this.date,tags:this.tags};this.message="",this.text="",this.tags=[],this.date="",this.$store.commit("newTask",t),this.taskId=this.$store.getters.getNewId}else this.message="Нельзя оставлять поля пустым!"}},created(){this.taskId=this.$store.getters.getNewId}};const G=(0,$.Z)(B,[["render",F]]);var Q=G,R={name:"App",components:{TaskList:z,NewTask:Q}};const X=(0,$.Z)(R,[["render",i]]);var tt=X,st=e(65),et=(0,st.MT)({state:{tasks:[]},getters:{tasks(t){return t.tasks},getNewId(t){if(t.tasks.length>1){let s=t.tasks[0].id;return t.tasks.forEach((t=>{t.id>s&&(s=t.id)})),s+1}return 1==t.tasks.length?t.tasks[0].id+1:1},tasksLength(t){return t.tasks.length}},mutations:{newTask(t,s){t.tasks.push(s),localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteTask(t,s){t.tasks=t.tasks.filter((t=>t.id!=s)),localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteCompletedTasks(t){t.tasks=t.tasks.filter((t=>!t.completed)),localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteAllTask(t){t.tasks=[],localStorage.setItem("tasks",JSON.stringify(t.tasks))},setTask(t,s){const e=t.tasks.findIndex((t=>t.id==s.id));t.tasks[e]=s,localStorage.setItem("tasks",JSON.stringify(t.tasks))},completedTask(t,s){const e=t.tasks.findIndex((t=>t.id==s)),a=t.tasks[e].completed;t.tasks[e].completed=!a,localStorage.setItem("tasks",JSON.stringify(t.tasks))},deleteTag(t,{taskId:s,tagId:e}){console.log(e);const a=t.tasks.findIndex((t=>t.id==s));t.tasks[a].tags=t.tasks[a].tags.filter((t=>t.id!=e)),localStorage.setItem("tasks",JSON.stringify(t.tasks))},pushTags(t,{taskId:s,tags:e}){const a=t.tasks.findIndex((t=>t.id==s));t.tasks[a].tags=e,localStorage.setItem("tasks",JSON.stringify(t.tasks))},loadLocalStorage(t){let s=localStorage.getItem("tasks");s&&(t.tasks=JSON.parse(s))}},actions:{},modules:{}});(0,a.ri)(tt).use(et).mount("#app")}},s={};function e(a){var n=s[a];if(void 0!==n)return n.exports;var i=s[a]={exports:{}};return t[a](i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,a,n,i){if(!a){var l=1/0;for(c=0;c<t.length;c++){a=t[c][0],n=t[c][1],i=t[c][2];for(var o=!0,d=0;d<a.length;d++)(!1&i||l>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[d])}))?a.splice(d--,1):(o=!1,i<l&&(l=i));if(o){t.splice(c--,1);var r=n();void 0!==r&&(s=r)}}return s}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[a,n,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var n,i,l=a[0],o=a[1],d=a[2],r=0;if(l.some((function(s){return 0!==t[s]}))){for(n in o)e.o(o,n)&&(e.m[n]=o[n]);if(d)var c=d(e)}for(s&&s(a);r<l.length;r++)i=l[r],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(c)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(8644)}));a=e.O(a)})();
//# sourceMappingURL=app.15de3984.js.map